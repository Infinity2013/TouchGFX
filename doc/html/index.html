<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>TouchGFX: TouchGFX Manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="touchgfx.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="touchgfxlogo.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">TouchGFX
   &#160;<span id="projectnumber">v4.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TouchGFX Manual </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="Introduction"></a> </p><h1>Introduction</h1>
<p>Welcome to the TouchGFX Manual! The sections contained within embody the complete documentation of the TouchGFX graphics framework and the toolchain that supports it. If you are new to TouchGFX we recommended that you, as a start, read the following topics to get a solid understanding of the framework and how to get from source code to running application.</p>
<ol type="1">
<li>What is TouchGFX and the philospohy behind it? (Further down this section).</li>
<li><a class="el" href="page_the_touchgfx_distribution.html">The TouchGFX Distribution</a> discusses the contents, structure and licensing model of the TouchGFX distribution.</li>
<li><a class="el" href="page_development_environment.html">Development Environment</a> shows you how to setup a TouchGFX development environment.</li>
<li><a class="el" href="page_build_and_execute.html#sect_build_and_execute_simulator">PC Simulator</a> teaches you to build and execute applications for the PC simulator, including a <a class="el" href="page_build_and_execute.html#sect_build_and_execute_quickstart">Quickstart</a> for the impatient.</li>
<li><a class="el" href="page_examples.html">Examples</a> contains a list of ready to build examples to try out either on the PC simulator or on target hardware.</li>
<li><a class="el" href="page_application_development.html#sect_application_development_creating_new_app">Creating a New Application</a> shows you how to create a new application from scratch using gcc or Microsoft Visual Studio.</li>
<li><a class="el" href="page_application_development.html">Application Development</a> enlightens you in the ways of TouchGFX application development now that you have read the above topics. Keep the <a href="hierarchy.html">API documentation</a> handy.</li>
<li><a class="el" href="page_build_and_execute.html#sect_build_and_execute_target">Target Hardware</a> now that your finished application is ready to be deployed.</li>
</ol>
<p>Several <em>advanced</em> topics go beyond standard application development and deployment.</p>
<ol type="1">
<li><a class="el" href="page_advanced.html#sect_build_configurations">Target Configurations</a> contains details on how <em>board-</em> and <em>OS-packages</em> are used in conjunction to construct build configurations for hardware platforms.</li>
<li><a class="el" href="page_the_touchgfx_distribution.html#sect_touchgfx_dist_os">RT Operating System (touchgfx/os/)</a> is important for those interested in running a different OS than what TouchGFX provides (FreeRTOS).</li>
<li><a class="el" href="page_advanced.html#sect_advanced_perfmeas">Performance Measurement</a> Add on Cortex-M MCU instrumentation to your project in an effort to read out cpu cycles, elapsed time, and MCU load.</li>
<li><a class="el" href="page_application_development.html#sect_application_development_project_conf_text_format">Text Format</a> shows you how to enable Hardware-accelerated text rendering on ST devices. This setting is used by TouchGFX applications where applicable.</li>
<li><a class="el" href="page_advanced.html">Advanced</a> contains topics on the fundamental workings of TouchGFX such as TFT Controller timings and how to do performance measurements by reading out CPU cycles from Cortex-M CPUs.</li>
<li><a class="el" href="page_porting.html">Porting Guide</a> reveals the innards of the TouchGFX HAL and provides you with a complete guide to porting TouchGFX to platforms other than the ones immediately supported.</li>
</ol>
<p>The remaining parts of this manual go into detail about the contents of a TouchGFX distribution and how to develop, build, execute and download TouchGFX applications. Advanced topics are available for those who require a different configuration than what is immediately provided by the standard TouchGFX distribution.</p>
<h2>What is TouchGFX?</h2>
<p>TouchGFX is a framework written in C++ that enables you to create modern graphical user interfaces on embedded systems with limited resources. That means a smartphone-like look and feel on hardware an order of magnitude less powerful than smartphones. TouchGFX is unique in its ability to provide the same user interface experience people have come to expect today, in applications that for reasons of unit cost, power consumption or otherwise cannot use the hardware platforms normally associated with that type of UI. TouchGFX achieves its smart-phone-like look and feel by making use of cutting-edge graphics invalidation routines (<em>Occlusion Culling</em>) and by applying clever rendering algorithms and drawing mechanisms.</p>
<p>To give you an easy-to-understand picture of the structure of the framework, here is a teaser diagram depicting the different layers of TouchGFX: Core, Application, OS- and Hardware Abstraction Layers and how these fit together. We will revisit the diagram later in this manual and leave you with an initial impression for now. <br />
</p><div class="image">
<img src="TouchGFX-model_small.png" alt="TouchGFX-model_small.png"/>
</div>
  <br />
TouchGFX was designed to make application development as flexible and effortless as possible for application programmers by offering, amongst other things, the following:</p>
<ol type="1">
<li>An Object-Oriented and extendable API</li>
<li>A tool chain for generating application assets (bitmaps and fonts) and building PC Simulator applications</li>
<li>Said PC simulator for prototyping and easy debugging</li>
<li>A Built-in (but optional) scheme for efficient memory allocation</li>
<li>An architecture that cleanly separates the responsibilities of the GUI from the business logic of the application</li>
</ol>
<p>TouchGFX is able to run on a multitude of hardware platforms. A natural fit is any Cortex-M based platform, with the exact parameters, of course, depending on display resolution, memory latency and bandwidth, etc. Example platforms are: </p><table class="doxtable">
<tr>
<th>MCU</th><th>Clock speed</th><th>Display </th></tr>
<tr>
<td>Cortex-M0 </td><td>24-48MHz </td><td>320x240 QVGA  </td></tr>
<tr>
<td>Cortex-M3 </td><td>48-64MHz </td><td>320x240 QVGA  </td></tr>
<tr>
<td>Cortex-M3/M4 </td><td>96-120MHz </td><td>480x272 WQVGA  </td></tr>
<tr>
<td>Cortex-M3/M4 </td><td>120-204MHz </td><td>800x480 WVGA  </td></tr>
<tr>
<td>Cortex-M3/M4 </td><td>180-204MHz </td><td>1024x768 XGA  </td></tr>
<tr>
<td>Cortex-M7 </td><td>200MHz </td><td>1024x768 XGA  </td></tr>
</table>
<p><br />
 TouchGFX can run on systems where the TFT controller is integrated in the MCU with frame buffers in external memory, or on systems that use an LCD with integrated frame buffer and controller. In some cases a Cortex-M0 based solution could also be sufficient. The framework comes with built-in support for a number of evaluation boards and MCUs. For a complete list see <a class="el" href="page_the_touchgfx_distribution.html#sect_touchgfx_dist_files_supported_hardware">Supported Hardware</a>.</p>
<p>The resource requirements of TouchGFX depends, of course, on the size and complexity of the specific application. Below are figures for the usage of the framework itself as well as typical requirements for UI implementations. The lower bound represent user interfaces like the simple examples included in the framework distribution. The higher bound represent very complex applications with ~200 different screens. <br />
 </p><table class="doxtable">
<tr>
<th>Int. RAM </th></tr>
<tr>
<td>10-20 KB (framework+stack)<br />
 1-15 KB (widgets) </td></tr>
<tr>
<th>Int. ROM </th></tr>
<tr>
<td>20 KB (framework)<br />
 1-40 KB (screen definitions, UI logic) </td></tr>
<tr>
<th>Ext. RAM </th></tr>
<tr>
<td>1-3 frame buffers in external RAM / integrated on display </td></tr>
<tr>
<th>Ext. Flash </th></tr>
<tr>
<td>1-8 MB for graphics data, fonts, text and translations. </td></tr>
<tr>
<th>Operating System </th></tr>
<tr>
<td>OS independent. Can run with (one task, two semaphores) or without (not recommended). </td></tr>
</table>
<h2>Background and Philosophy</h2>
<p>The development of TouchGFX started in 2009 where existing solutions were found to be either unsuitable for the types of hardware we were concerned with, or took an approach to user interface design and implementation we felt were not quite up to date. While other solutions are certainly capable of delivering great-looking UIs, they simply cannot run on cost-efficient, low-power hardware. Other alternatives are comparable to TouchGFX in resource requirements but with concepts like resizable and minimizable windows, focus, cursors and standard look and feel widgets seem more targeted towards creating interfaces reminiscent of desktop PCs rather than smartphones.</p>
<p>A key design decision of TouchGFX is to prefer prerasterized (bitmap) graphics as opposed to arithmetical (vector) graphics. Apart from text rendering, almost everything is done with bitmaps. This means that the DMA can be used extensively when rendering, thereby significantly reducing the MCU load. We can also heavily optimize occlusion culling by using offline-generated data from the bitmap conversion tool. In essence, this is what enables TouchGFX to run well on the target platform range described in <em>"What is TouchGFX?"</em>.</p>
<p>Another important design decision was to not include standard look and feel widgets. That means there is no built-in definition of what e.g. a button should look like. The graphics associated with the button must be supplied as part of the application thus giving it a customized look and feel, tailored to the specific application and the client's brand and style guides. By taking this approach, leaving out standard graphics, the memory footprint is reduced and better tailors the framework to be customizable to a very high degree.</p>
<p>Last, but not least, the framework was designed with extreme focus on memory usage and MCU load. Very rarely does an application consist of just a user interface, so there must be plenty of resources available for the system to do "real work" as well. The footprint of TouchGFX is very low and it is capable of rendering even very complex full-screen transition effects with an MCU load typically less than 15%. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
