<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>TouchGFX: The TouchGFX Distribution</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="touchgfx.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="touchgfxlogo.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">TouchGFX
   &#160;<span id="projectnumber">v4.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_the_touchgfx_distribution.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">The TouchGFX Distribution </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sect_touchgfx_dist_versioning"></a>
Updating your TouchGFX installation</h1>
<p>TouchGFX uses a semantic versioning scheme. This means that an update <em>within</em> same <em>major</em> release can be done by rebuilding your applications against the new distribution. A bump to the MAJOR verison number could possibly involve changes to your application. Given a version number <code>MAJOR.MINOR.PATCH</code>, the semantic versioning scheme is defined as follows:</p>
<ol type="1">
<li>Increment MAJOR version when introducing changes that make incompatible API changes</li>
<li>Increment MINOR version when adding functionality in a backwards-compatible manner, and</li>
<li>Increment PATCH version when making backwards-compatible bug fixes.</li>
</ol>
<h1><a class="anchor" id="sect_touchgfx_dist_types"></a>
Distribution types</h1>
<p>Three different types of TouchGFX distributions exist, each with their own license scheme. Each of these schemes affect the contents of the distribution in a number of ways. See <a class="el" href="page_the_touchgfx_distribution.html#sect_touchgfx_dist_libs">Precompiled libraries (touchgfx/lib/)</a> for more information on the various libraries available and the supported platforms. The table below goes through each of these versions.</p>
<table class="doxtable">
<tr>
<th>Type </th><th>Description  </th></tr>
<tr>
<td><em>Evalulation</em>  </td><td>The <em>Evaluation</em> copy of TouchGFX uses pre-built libraries for both the core API and the HAL. <br />
 IAR project configurations are postfixed with <code>-eval</code>.   </td></tr>
<tr>
<td><em>Standard</em>  </td><td><em>Standard</em> refers to a version that uses pre-built libraries for the core API and supplies source code for the HAL. <br />
 IAR project configurations are postfixed with <code>-std</code>.   </td></tr>
<tr>
<td><em>Full</em>  </td><td><em>Full</em> refers to a version that includes full source for every part of TouchGFX, including tools, core API and HAL. <br />
 IAR project configurations for this version do not have a postfix.  </td></tr>
</table>
<p><br />
 </p>
<h1><a class="anchor" id="sect_touchgfx_main_component_model"></a>
Main Component Model</h1>
<p>A TouchGFX application follows the layered model that can be seen in the figure below. The TouchGFX distribution provides, depending on the distribution, either pre-build libraries or source code for both the TouchGFX Core and OSAL/HAL layers. For the application layer only demos and examples are provided. This is the layer that should be implemented for an application specific behaviour.</p>
<p>The HAL layer holds the porting for specific boards. The distribution includes standard drivers for MCU, DMA, and Touch, as well as full HAL layers (Board Packages) for a variety of evaluation boards. If your specific target board uses any of the supported components the drivers should be directly reusable in the needed customized port.</p>
<p>The distribution also supplies components for the OSAL layer in form of OS wrappers for selected operating systems. If you use one of the supported operating systems you should be able to simply reuse the supplied OS wrapper in your application and just adjust the OS configuration file.</p>
<div class="image">
<img src="TouchGFX-model_small.png" alt="TouchGFX-model_small.png"/>
<div class="caption">
Model of the main components of a TouchGFX application.</div></div>
 <h1><a class="anchor" id="sect_touchgfx_dist_files_supported_hardware"></a>
Supported Hardware</h1>
<p>To get TouchGFX running on your custom board you need to port TouchGFXâ€™ hardware abstraction layer (HAL) to it. The TouchGFX distribution, however, includes a driver package containing helpful components to use in your porting process. There are several benefits to choosing a hardware platform that includes component that are directly supported, or similar to the supported hardware setups. One of these benefits is that the driver package helps the process of porting your application to the specific board, making the process much faster. It is, of course, possible to make a custom port for other microcontrollers as well.</p>
<p>Below is a list of the microcontrollers currently supported.</p>
<table class="doxtable">
<tr>
<th>Manufacturer </th><th>MCU  </th></tr>
<tr>
<td>NXP </td><td>LPC1788  </td></tr>
<tr>
<td>NXP </td><td>LPC1853  </td></tr>
<tr>
<td>NXP </td><td>LPC1857  </td></tr>
<tr>
<td>NXP </td><td>LPC4088  </td></tr>
<tr>
<td>NXP </td><td>LPC4353  </td></tr>
<tr>
<td>NXP </td><td>LPC4357  </td></tr>
<tr>
<td>ST </td><td>STM32F429  </td></tr>
<tr>
<td>ST </td><td>STM32F439  </td></tr>
<tr>
<td>ST </td><td>STM32F469  </td></tr>
<tr>
<td>Freescale </td><td>K70  </td></tr>
</table>
<p><br />
 The TouchGFX distribution also includes complete board packages for a number of official demo boards. With one of these in hand, you can have your first TouchGFX running on target within minutes, since TouchGFX comes with predefined projects that are ready to be compiled and downloaded to any of the boards.</p>
<table class="doxtable">
<tr>
<th>Board </th><th>MCU </th><th>Compiler  </th></tr>
<tr>
<td>FDI uEZGUI-1788-70WVT </td><td>NXP LPC1788 </td><td>IAR  </td></tr>
<tr>
<td>TouchGFX demo board 4.3&quot; </td><td>NXP LPC4353, NXP LPC4350 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>TouchGFX demo board 5.7&quot; </td><td>NXP LPC4353 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>TouchGFX demo board 7.0&quot; </td><td>NXP LPC4353 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>ST STM32429I-EVAL1 </td><td>ST STM32f429 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>ST STM324x9I-EVAL-5.7" </td><td>ST STM32f4x9 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>ST STM32F429I-DISCO </td><td>ST STM32f429 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>ST STM32F469I-EVAL </td><td>ST STM32F469 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>ST STM32F469I-Discovery </td><td>ST STM32F469 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>Embedded Artists LPC4357DevKit </td><td>NXP LPC4357 </td><td>IAR, Keil, GCC  </td></tr>
<tr>
<td>Embedded Artists LPC4088DisplayModule </td><td>NXP LPC4088 </td><td>IAR, Keil, GCC  </td></tr>
</table>
<p><br />
</p>
<h1><a class="anchor" id="sect_touchgfx_dist_files"></a>
TouchGFX File Structure</h1>
<p>The TouchGFX distribution includes a set of different files. The following sections describes the main groups of the TouchGFX file structure.</p>
<p>The listing below depicts the overall folder structure of a TouchGFX distribution. </p><pre class="fragment">+-- app
|   +-- demo
|   +-- example
|   \-- template
|
+-- doc
+-- touchgfx
|   +-- board
|   +-- config
|   +-- framework
|   +-- lib
|   \-- os
|
\-- changelog.txt
\-- known_issues.txt
</pre><h2><a class="anchor" id="sect_touchgfx_dist_files_app"></a>
Applications (app/)</h2>
<p>The <code>app</code> folder contains a number of TouchGFX applications.</p>
<ul>
<li><code>demo</code> contains comprehensive TouchGFX applications that give insight into creating and structuring more complex graphical interfaces. For more detail see <a class="el" href="page_demos.html">Demos</a>.</li>
<li><code>example</code> contains example applications that showcases the widget library provided by the framework. For more detail see <a class="el" href="page_examples.html">Examples</a>.</li>
<li><code>template</code> contains a template application <code>EmptyApplication</code> that provides an empty shell for application developers to quickly get started. As the application places no restrictions on screen dimensions or otherwise, it can be targeted at all available hardware platforms in TouchGFX.</li>
</ul>
<pre class="fragment">+-- demo
|   +-- touchgfx_demo2014_240x320
|   +-- touchgfx_demo2014_480x272
|   \-- home_automation
|       \-- home_control_demo
|
|-- example
|   +-- animation_example
|   +-- button_example
|   +-- custom_transition_example
|   +-- ...
|   \-- transition_example
|
\-- template
    \-- EmptyApplication
</pre><h2><a class="anchor" id="sect_touchgfx_dist_files_doc"></a>
Documentation (doc/)</h2>
<p>Contains this document.</p>
<h2><a class="anchor" id="sect_touchgfx_dist_files_touchgfx"></a>
TouchGFX (touchgfx/)</h2>
<p>The <code>touchgfx</code> folder contains all the source code and binaries you will need in the development of new and existing touchgfx applications for both simulator and target hardware platforms.</p>
<p>The folder <code>config</code> contains files used by the TouchGFX build environment and will not be covered here in detail. </p><pre class="fragment">+-- touchgfx
|   +-- board
|   +-- config
|   +-- framework
:   +-- lib
:   \-- os
</pre><h3><a class="anchor" id="sect_touchgfx_dist_board"></a>
Board Packages (touchgfx/board/)</h3>
<p>The <code>board</code> folder contains what is called <em>board</em> <em>packages</em> that contain any source code required to initialize hardware, OS and the TouchGFX framework itself for a specific target platform supported by TouchGFX. These board packages are provided for a number of evaluation boards that allow users to concentrate on developing applications.</p>
<p>The file <code>BoardConfiguration.cpp</code> file of the TouchGFX provided board packages tie hardware and software configuration together allowing it to run TouchGFX applications on the target board in question. <code>bsp</code> (Board support) contains source code for anything that is not delivered by the board vendor in question. The <code>vendor</code> folder typically contains vendor provided source code related to board bringup. The following listing shows the folder structure for the <code>Mjolner</code> board package located under <code>board/Mjolner/</code>. As we support the Mjolner line of boards in more than one configuration (4.3&quot; and 7.0&quot;), more than one <code>BoardConfiguration.cpp</code> is provided.</p>
<pre class="fragment">+-- TouchGFXDemoBoardRev1.1-4353
|   +-- flashloader
|   +-- include
|   |   +-- bsp
|   |   \-- vendor
|   |
|   +-- source
|   |   +-- bsp
|   |   +-- vendor
|   |   +-- BoardConfiguration_4_3.cpp
:   :   +-- BoardConfiguration_7_0.cpp
:   :   \-- GPIO.cpp
</pre><p><br />
Board configurations define a very simple interface that can be used to expose methods for initializing hardware and software. Any method of initialization could be used, but a generic interface allow applications in TouchGFX to share more common code across target platforms that all use the same Operating System.</p>
<p>The <em>GPIO</em> class (<a class="el" href="classtouchgfx_1_1_g_p_i_o.html">touchgfx::GPIO</a>) defines an interface used internally for debugging purposes. To that end, the class defines a list of helpful types that are signaled by the core framework. By assigning a GPIO on a target hardware platform to each of these types we can measure timings using blinking LEDs or an oscilloscope.</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span></div>
<div class="line">{</div>
<div class="line">  VSYNC_FREQ, </div>
<div class="line">  RENDER_TIME, </div>
<div class="line">  FRAME_RATE, </div>
<div class="line">  MCU_ACTIVE </div>
<div class="line">} GPIO_ID;</div>
</div><!-- fragment --><p><br />
See <a class="el" href="page_advanced.html#sect_build_configurations">Target Configurations</a> for information on how these board packages are used in target build configurations.</p>
<h3><a class="anchor" id="sect_touchgfx_dist_touchgfx_framework"></a>
Framework (touchgfx/framework/)</h3>
<p>The <code>framework</code> folder contains files required to create TouchGFX applications. In the listing below, the two components of interest are the <code>platform</code> folder, containing platform specific interfaces and <code>touchgfx</code> containÃ­ng the core API. The contents of <code>platform</code> an advanced topic and can be studied in <a class="el" href="page_advanced.html#sect_overview_framework_platform">Platform Abstraction</a> and <a class="el" href="page_porting.html">Porting Guide</a>. The <code>tools</code> folder contains tools for handling assets such as images, fonts, and texts. Read more about these in <a class="el" href="page_application_development.html#sect_application_development_assets_and_tools">Assets and Tools</a>. </p><pre class="fragment"> +-- framework
 |   +-- include
 |   |   +-- common
 |   |   +-- mvp
 |   |   +-- platform
 |   |   \-- touchgfx
 |   |
 |   \-- tools
 |       +-- fontconvert
 :       +-- imageconvert
 :       \-- textconvert
</pre><h3><a class="anchor" id="sect_touchgfx_dist_libs"></a>
Precompiled libraries (touchgfx/lib/)</h3>
<p>The <code>lib</code> folder contains precompiled core libraries (<code>core</code>), libraries for the evaluation boards (<code>board</code>), TouchGFX application libraries for Windows (<code>win</code>) and Linux (<code>linux</code>) and some vendor libraries used in the TouchgGFX simulator (<code>sdl</code>). </p><pre class="fragment">+-- lib
|   +-- board
|   +-- core
|   +-- linux
|   +-- sdl
|   \-- win
|
\-- os
</pre><p><br />
The complete list of permutations of platforms and compilers for <code>core:</code> </p>
<table class="doxtable">
<tr>
<th>Platform </th><th>Folder </th><th>Compiler  </th></tr>
<tr>
<td>Windows </td><td>lib/win </td><td>gcc and Visual Studio 2010/2012/2013  </td></tr>
<tr>
<td>Linux </td><td>lib/linux </td><td>gcc  </td></tr>
<tr>
<td>ARM Cortex-M3 </td><td>lib/core/cortex_m3/IAR </td><td>IAR  </td></tr>
<tr>
<td>ARM Cortex-M3 </td><td>lib/core/cortex_m3/Keil </td><td>Keil  </td></tr>
<tr>
<td>ARM Cortex-M4F </td><td>lib/core/cortex_m4F/IAR </td><td>IAR  </td></tr>
<tr>
<td>ARM Cortex-M4F </td><td>lib/core/cortex_m4F/Keil </td><td>Keil  </td></tr>
<tr>
<td>ARM Cortex-M4F </td><td>lib/core/cortex_m4F/gcc </td><td>gcc  </td></tr>
</table>
<h3><a class="anchor" id="sect_touchgfx_dist_os"></a>
RT Operating System (touchgfx/os/)</h3>
<p>TouchGFX requires, as a minimum, one thread for the GUI and two semaphores that govern access to resources central to the framework. TouchGFX can run with almost any OS by implementing the oswrapper class appropriately. The folder <code>os</code> contains a single <em>OS</em> <em>package</em> (FreeRTOS 7.6.0) that is used by all target board configurations in TouchGFX. The structure of The FreeRTOS OS package is as in the following listing, where <code>License/</code> and <code>Source/</code> are vendor supplied folders. </p><pre class="fragment">\-- os
    +-- FreeRTOS7.6.0
        +-- License
        +-- Source
        \-- OSWrappers.cpp
</pre><p><br />
 <code>OSWrappers.cpp</code> is the implementation of an OS Abstraction Layer (OSAL) required for every OS package. The layer specifies methods for wrapping methods related to controlling access to vital framework resources. While the documentation for <code>OSWrappers</code> (<a class="el" href="classtouchgfx_1_1_o_s_wrappers.html">touchgfx::OSWrappers</a>) specifies what each method should be doing, an example implementation can be found in the FreeRTOS7.6.0 package. The OSAL allows users to create new packages for, and use with TouchGFX, any OS that offers thread and semaphore handles.</p>
<p>To use an OS package in your project, include the source for the OS as well as your new <code>OSWrappers.cpp</code> for compilation in your project. If you are running an evaluation copy of TouchGFX, FreeRTOS7.6.0 will be included in the provided libraries.</p>
<p>See <a class="el" href="page_advanced.html#sect_build_configurations">Target Configurations</a> for details on how to use an OS package in your project. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
